dist: xenial
language: python
python:
  - "3.5"
  - "3.6"
  - "3.7"
install:
  - pip install --upgrade pip wheel pyo3-pack pytest hypothesis
  - curl https://sh.rustup.rs -sSf | sh -s -- --default-toolchain nightly -y
  - PATH=$HOME/.cargo/bin:$PATH cargo update
script:
  - PATH=$HOME/.cargo/bin:$PATH ./build --strip
  - pytest -v test
